<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Report: Trust and Security with Google Cloud</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: A non-linear, thematic SPA with a top navigation bar for exploring core concepts, threats, Google's infrastructure, and trust principles. Key interactions include an interactive security stack diagram, clickable cards for detailed info, and a dynamic chart for visualizing threat prominence. This structure enhances engagement and understanding by breaking down complex information into manageable, explorable chunks, which is more effective than a linear presentation for educational content. -->
    <!-- Visualization & Content Choices: 
    - CIA Triad: Goal=Organize, Method=Interactive HTML/CSS diagram, Interaction=Click to reveal text. Justification=More engaging than a static image.
    - Threat Landscape: Goal=Compare/Inform, Method=Chart.js Bar Chart & interactive cards, Interaction=Hover/Click on cards. Justification=Visually represents threat priority and provides layered information.
    - Security Layers: Goal=Organize, Method=Interactive HTML/CSS stack diagram, Interaction=Click layer to show details. Justification=Clearly visualizes Google's defense-in-depth model.
    - SCC Tiers: Goal=Compare, Method=HTML table. Justification=Directly compares features and clarifies value.
    - GFE Role: Goal=Relationships, Method=HTML/CSS diagram. Justification=Shows how Google's core infrastructure benefits Cloud customers.
    CONFIRMED: NO SVG/Mermaid used. All visuals built with HTML/CSS/Tailwind or Chart.js (Canvas). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
            color: #2c3e50;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #3B82F6;
            color: white;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .cia-part {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .security-layer {
            cursor: pointer;
            transition: all 0.3s ease;
            border-left-width: 4px;
        }
        .security-layer.active {
            background-color: #EBF5FF;
            border-left-color: #3B82F6;
        }
        .chart-container {
            position: relative; 
            width: 100%; 
            max-width: 800px; 
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .quiz-option {
            transition: background-color 0.2s ease;
        }
        .activity-prompt {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .activity-prompt.open {
            max-height: 500px; /* Adjust as needed */
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-2xl font-bold text-gray-800">Google Cloud Security</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <button data-target="home" class="nav-button active px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Welcome</button>
                        <button data-target="concepts" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Core Concepts</button>
                        <button data-target="threats" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Threats</button>
                        <button data-target="infrastructure" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Infrastructure</button>
                        <button data-target="trust" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Trust & Compliance</button>
                        <button data-target="activities" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Activities</button>
                        <button data-target="quiz" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-200">Final Quiz</button>
                    </div>
                </div>
                <div class="md:hidden">
                    <select id="mobile-nav" class="block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                        <option value="home">Welcome</option>
                        <option value="concepts">Core Concepts</option>
                        <option value="threats">Threats</option>
                        <option value="infrastructure">Infrastructure</option>
                        <option value="trust">Trust & Compliance</option>
                        <option value="activities">Activities</option>
                        <option value="quiz">Final Quiz</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Welcome Section -->
        <section id="home" class="content-section active text-center">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Understanding Trust & Security in Google Cloud</h2>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-8">
                As organizations increasingly migrate to the cloud, understanding the landscape of security is essential. This interactive report breaks down the core principles, common threats, and Google's robust infrastructure designed to protect your most valuable assets. Explore the sections to learn how trust and security are built into the foundation of Google Cloud.
            </p>
            <div class="w-full h-1 bg-blue-200 rounded-full max-w-sm mx-auto"></div>
        </section>

        <!-- Core Concepts Section -->
        <section id="concepts" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Core Security Concepts</h2>
                <p class="mt-2 text-md text-gray-600">These foundational principles govern how secure systems are designed and managed in the cloud.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h3 class="text-2xl font-bold text-gray-700 mb-6">The CIA Triad: Pillars of Security</h3>
                    <p class="text-gray-600 mb-4">The CIA Triad is a foundational model for security. Click on each component of the shield to learn more about its role in protecting information.</p>
                    <div class="flex justify-center items-center space-x-4">
                         <div id="cia-diagram" class="relative w-48 h-56">
                            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[6rem] border-l-transparent border-r-[6rem] border-r-transparent border-b-[10rem] border-b-gray-300"></div>
                            <div id="cia-info" class="absolute inset-0 flex flex-col justify-center items-center p-4 text-center bg-white/80 backdrop-blur-sm rounded-lg shadow-inner">
                                <h4 class="font-bold text-lg text-blue-600">Select a Principle</h4>
                                <p class="text-sm text-gray-600">Click a colored section to see its details.</p>
                            </div>
                            <div class="cia-part absolute top-10 left-0 w-12 h-20 bg-red-400 hover:bg-red-500 rounded-l-full" data-title="Confidentiality" data-text="Ensures that sensitive information is kept secret and accessible only to authorized individuals. Encryption is a key tool for this."></div>
                            <div class="cia-part absolute top-10 right-0 w-12 h-20 bg-green-400 hover:bg-green-500 rounded-r-full" data-title="Availability" data-text="Ensures that cloud systems and services are always accessible to authorized users when needed, achieved via redundancy and disaster recovery."></div>
                            <div class="cia-part absolute bottom-12 left-1/2 -translate-x-1/2 w-20 h-12 bg-blue-400 hover:bg-blue-500 rounded-b-full" data-title="Integrity" data-text="Ensures data is accurate and trustworthy, and has not been altered. Verified using checksums and digital signatures."></div>
                         </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-2xl font-bold text-gray-700 mb-6">Access Control Principles</h3>
                    <div class="space-y-4">
                        <div class="card p-4 bg-white rounded-lg shadow-md border-l-4 border-blue-500">
                            <h4 class="font-bold text-lg">Zero-Trust Architecture</h4>
                            <p class="text-gray-600">Assumes no user or device is trusted by default. Every access request must be authenticated and authorized. "Never trust, always verify."</p>
                        </div>
                        <div class="card p-4 bg-white rounded-lg shadow-md border-l-4 border-yellow-500">
                            <h4 class="font-bold text-lg">Least Privilege</h4>
                            <p class="text-gray-600">Grants users only the minimum access required to perform their jobs, reducing the potential impact of a compromised account.</p>
                        </div>
                        <div class="card p-4 bg-white rounded-lg shadow-md border-l-4 border-red-500">
                            <h4 class="font-bold text-lg">Privileged Access</h4>
                            <p class="text-gray-600">Broader access granted to specific users (e.g., admins). This access must be carefully managed and monitored to prevent misuse.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Threats Section -->
        <section id="threats" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">The Cybersecurity Threat Landscape</h2>
                <p class="mt-2 text-md text-gray-600">Understanding common threats is the first step to building a resilient defense.</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 text-center">Prominence of Cloud Security Threats</h3>
                <p class="text-center text-gray-600 mb-4">Surveys consistently identify misconfiguration as the most prominent threat to cloud security, as it can inadvertently expose sensitive data.</p>
                <div class="chart-container">
                    <canvas id="threatsChart"></canvas>
                </div>
            </div>
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h4 class="font-bold text-lg mb-2">üé£ Social Engineering (Phishing)</h4>
                    <p class="text-gray-600">Deceptive attacks tricking individuals into divulging sensitive info or downloading malware.</p>
                </div>
                 <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h4 class="font-bold text-lg mb-2">üíæ Malware & Ransomware</h4>
                    <p class="text-gray-600">Malicious software designed to disrupt operations, steal data, or hold files hostage for a ransom.</p>
                </div>
                <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h4 class="font-bold text-lg mb-2">üî• Physical Damage</h4>
                    <p class="text-gray-600">Threats to data from hardware failure, power disruption, or natural disasters.</p>
                </div>
                <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h4 class="font-bold text-lg mb-2">üîó Vulnerable 3rd-Party Systems</h4>
                    <p class="text-gray-600">Weaknesses in integrated external systems (e.g., for HR or Finance) can create a backdoor for attackers.</p>
                </div>
                 <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h4 class="font-bold text-lg mb-2">‚öôÔ∏è Configuration Mishaps</h4>
                    <p class="text-gray-600">The #1 threat: simple errors in setup that accidentally expose sensitive systems and data to the public internet.</p>
                </div>
            </div>
        </section>

        <!-- Infrastructure Section -->
        <section id="infrastructure" class="content-section">
             <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Google's Multilayered Security Infrastructure</h2>
                <p class="mt-2 text-md text-gray-600">Security is built in progressive layers, providing true defense-in-depth. Click each layer to explore.</p>
            </div>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="w-full md:w-1/3">
                    <div id="security-stack" class="space-y-2">
                        <div class="security-layer p-4 rounded-md bg-white shadow-sm hover:bg-gray-100" data-layer="ops">
                            <h4 class="font-bold">Operational & Device Security</h4>
                            <p class="text-sm text-gray-500">SecOps, vulnerability management</p>
                        </div>
                        <div class="security-layer p-4 rounded-md bg-white shadow-sm hover:bg-gray-100" data-layer="network">
                            <h4 class="font-bold">Network Security</h4>
                            <p class="text-sm text-gray-500">Firewalls, VPC, DDoS protection</p>
                        </div>
                         <div class="security-layer p-4 rounded-md bg-white shadow-sm hover:bg-gray-100" data-layer="identity">
                            <h4 class="font-bold">Identity</h4>
                            <p class="text-sm text-gray-500">Authentication, Authorization, IAM</p>
                        </div>
                        <div class="security-layer p-4 rounded-md bg-white shadow-sm hover:bg-gray-100" data-layer="storage">
                            <h4 class="font-bold">Secure Storage</h4>
                            <p class="text-sm text-gray-500">Encryption at rest, in transit, in use</p>
                        </div>
                        <div class="security-layer p-4 rounded-md bg-white shadow-sm hover:bg-gray-100 active" data-layer="datacenters">
                            <h4 class="font-bold">Data Centers</h4>
                            <p class="text-sm text-gray-500">Physical security, custom hardware</p>
                        </div>
                    </div>
                </div>
                <div id="layer-details" class="w-full md:w-2/3 bg-white p-6 rounded-lg shadow-lg">
                    <!-- Content will be injected here by JS -->
                </div>
            </div>
        </section>

        <!-- Trust & Compliance Section -->
        <section id="trust" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Trust, Compliance, and the Google Edge</h2>
                <p class="mt-2 text-md text-gray-600">Learn about the principles and platforms that help Google earn and maintain customer trust.</p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h3 class="text-2xl font-bold text-gray-700 mb-4">The 7 Google Cloud Trust Principles</h3>
                <ul class="grid grid-cols-1 md:grid-cols-2 gap-4 list-none p-0">
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">1.</span> You own your data, not Google.</li>
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">2.</span> Google does not sell customer data to third parties.</li>
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">3.</span> Google Cloud does not use customer data for advertising.</li>
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">4.</span> All customer data is encrypted by default.</li>
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">5.</span> We guard against insider access to your data.</li>
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">6.</span> We never give any government entity "backdoor" access.</li>
                    <li class="flex items-start"><span class="text-blue-500 font-bold mr-2">7.</span> Our privacy practices are audited against international standards.</li>
                </ul>
            </div>
            
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">The Google Front End (GFE): A Unified Shield</h3>
                    <p class="text-gray-600 mb-4">The GFE is a globally distributed system that acts as the first line of defense for all Google services, including Google Cloud. It terminates traffic, mitigates DDoS attacks, and performs load balancing before requests ever reach your application, extending enterprise-grade protection to every customer.</p>
                    <div class="text-sm p-3 bg-blue-50 rounded-md">
                        <p><strong class="text-blue-700">How it helps you:</strong> When you use Google Cloud Load Balancing, you are leveraging the GFE. This gives your application automatic global DDoS protection and high-performance content delivery at the edge of Google's network.</p>
                    </div>
                </div>
                 <div class="card p-6 bg-white rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4">Security Command Center (SCC)</h3>
                    <p class="text-gray-600 mb-4">SCC is a centralized security and risk management platform. It offers a single view of your security posture, providing asset discovery, threat detection, vulnerability scanning, and compliance monitoring. It is essential for enterprises managing complex cloud environments.</p>
                    <div class="text-sm p-3 bg-blue-50 rounded-md">
                        <p><strong class="text-blue-700">Why it can be costly:</strong> The Premium tier's cost reflects the immense value of risk reduction and the resource-intensive analysis it performs, including attack path simulation. The cost of prevention is a fraction of the cost of a breach.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Activities Section -->
        <section id="activities" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Interactive Activities</h2>
                <p class="mt-2 text-md text-gray-600">Apply what you've learned through these hands-on exercises.</p>
            </div>

            <!-- Activity 1 -->
            <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                <h3 class="text-2xl font-bold text-gray-700 mb-2">Activity 1: Threat Mitigation Matching</h3>
                <p class="text-gray-600 mb-6">Match the cybersecurity threat with the primary Google Cloud service or principle used to combat it. Select an option from the dropdown to see the explanation.</p>
                <div id="activity1-container" class="space-y-4"></div>
            </div>

            <!-- Activity 2 -->
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-2xl font-bold text-gray-700 mb-2">Activity 2: How Do You Protect Customer Data?</h3>
                <p class="text-gray-600 mb-6">You are a Chief Information Security Officer (CISO). Click on each Trust Principle below to reveal a prompt and consider how you would implement it to protect customer data.</p>
                <div id="activity2-container" class="space-y-2"></div>
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quiz" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Final Quiz</h2>
                <p class="mt-2 text-md text-gray-600">Test your knowledge on the key security concepts from this report.</p>
            </div>
            <div id="quiz-container" class="max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-lg">
                <!-- Quiz content injected by JS -->
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 text-center">
            <p>This interactive report is based on the "Trust and Security with Google Cloud" learning module.</p>
            <p class="text-sm text-gray-400">All concepts and principles are derived from official Google Cloud documentation.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navButtons = document.querySelectorAll('.nav-button');
            const mobileNav = document.getElementById('mobile-nav');
            const sections = document.querySelectorAll('.content-section');

            function showSection(targetId) {
                sections.forEach(section => {
                    section.classList.toggle('active', section.id === targetId);
                });
                navButtons.forEach(button => {
                    button.classList.toggle('active', button.dataset.target === targetId);
                });
                if(mobileNav.value !== targetId) {
                    mobileNav.value = targetId;
                }
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => showSection(button.dataset.target));
            });
            
            mobileNav.addEventListener('change', (e) => showSection(e.target.value));

            // CIA Triad interactivity
            const ciaParts = document.querySelectorAll('.cia-part');
            const ciaInfo = document.getElementById('cia-info');
            ciaParts.forEach(part => {
                part.addEventListener('click', () => {
                    ciaInfo.innerHTML = `
                        <h4 class="font-bold text-lg text-blue-600">${part.dataset.title}</h4>
                        <p class="text-sm text-gray-600">${part.dataset.text}</p>
                    `;
                });
            });

            // Security Layers Interactivity
            const securityLayersData = {
                datacenters: {
                    title: 'Data Centers: The Foundation',
                    text: "Google designs and builds its own data centers with custom servers, networking, and security hardware. This provides a secure foundation through robust physical security (biometric access, surveillance), zero-trust principles, and high efficiency (measured by PUE). The infrastructure is built for cyber resilience and scalability.",
                    icon: 'üè¢'
                },
                storage: {
                    title: 'Secure Storage: Data Encryption',
                    text: "Data is protected in three states. <strong>At Rest:</strong> All customer data is automatically encrypted. <strong>In Transit:</strong> Data moving over networks is encrypted and authenticated. <strong>In Use:</strong> Memory encryption protects data during processing. Google primarily uses the powerful Advanced Encryption Standard (AES).",
                    icon: 'üîí'
                },
                identity: {
                    title: 'Identity: The Three A\'s',
                    text: "Identity management ensures the right users have the right access. It's based on: <strong>Authentication</strong> (verifying who you are, enhanced by 2-Step Verification), <strong>Authorization</strong> (what you are allowed to do, via IAM), and <strong>Auditing</strong> (tracking user activity to detect anomalies).",
                    icon: 'üë§'
                },
                network: {
                    title: 'Network Security: Protecting the Perimeter',
                    text: "Google Cloud provides a suite of tools to secure your network, including Virtual Private Cloud (VPC) for isolation, advanced firewalls, and Cloud Interconnect for secure private connections. Google Cloud Armor, a Web Application Firewall (WAF), provides robust DDoS protection at the network edge.",
                    icon: 'üåê'
                },
                ops: {
                    title: 'Security Operations (SecOps)',
                    text: "SecOps combines processes and tech to protect systems. This includes: <strong>Vulnerability Management</strong> (using Security Command Center), <strong>Log Management</strong> (with Cloud Logging), a dedicated <strong>Incident Response</strong> team, and continuous <strong>Security Awareness Training</strong> for employees.",
                    icon: 'üõ°Ô∏è'
                }
            };
            
            const securityStackLayers = document.querySelectorAll('.security-layer');
            const layerDetailsContainer = document.getElementById('layer-details');

            function showLayerDetails(layerId) {
                const data = securityLayersData[layerId];
                if(data) {
                    layerDetailsContainer.innerHTML = `
                        <h3 class="text-2xl font-bold text-gray-700 mb-4 flex items-center"><span class="text-3xl mr-3">${data.icon}</span> ${data.title}</h3>
                        <p class="text-gray-600 leading-relaxed">${data.text}</p>
                    `;
                }
                securityStackLayers.forEach(layer => {
                    layer.classList.toggle('active', layer.dataset.layer === layerId);
                });
            }

            securityStackLayers.forEach(layer => {
                layer.addEventListener('click', () => showLayerDetails(layer.dataset.layer));
            });

            showLayerDetails('datacenters');

            // Threats Chart
            const threatsCtx = document.getElementById('threatsChart').getContext('2d');
            new Chart(threatsCtx, {
                type: 'bar',
                data: {
                    labels: ['Phishing', 'Malware', 'Physical Damage', '3rd-Party Systems', 'Configuration Mishaps'],
                    datasets: [{
                        label: 'Threat Prominence (Conceptual)',
                        data: [65, 75, 50, 80, 95],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 159, 64, 0.6)',
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(153, 102, 255, 0.6)',
                            'rgba(255, 99, 132, 0.6)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 159, 64, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.x !== null) {
                                        label += context.parsed.x + ' (Relative Score)';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                             title: {
                                display: true,
                                text: 'Relative Prominence'
                            }
                        }
                    }
                }
            });

            // Activities Logic
            const activity1Container = document.getElementById('activity1-container');
            const activity2Container = document.getElementById('activity2-container');

            const activity1Data = [
                { 
                    threat: 'Configuration Mishaps',
                    options: [
                        { service: 'Security Command Center', explanation: 'Correct. SCC continuously scans for misconfigurations like public storage buckets or open firewalls and alerts you to fix them.' },
                        { service: 'Cloud Armor', explanation: 'While helpful, Cloud Armor primarily protects against external attacks, not internal setup errors.' },
                        { service: 'IAM', explanation: 'IAM is part of the solution (preventing overly permissive roles), but SCC provides the broad scanning and detection.' }
                    ]
                },
                { 
                    threat: 'Phishing / Social Engineering',
                    options: [
                         { service: 'Two-Factor Authentication (2FA)', explanation: 'Correct. Even if credentials are stolen via phishing, 2FA provides a critical second barrier to entry.' },
                         { service: 'Data Encryption', explanation: 'Encryption protects data if an attacker gets in, but it doesn\'t prevent the initial account compromise from phishing.' },
                         { service: 'Cloud Logging', explanation: 'Logging helps detect suspicious activity after a compromise, but 2FA is a primary preventative measure.' }
                    ]
                },
                 { 
                    threat: 'Malware & Ransomware on a VM',
                    options: [
                         { service: 'VPC Firewall Rules', explanation: 'Good choice. Egress firewall rules can block malware from communicating with external command-and-control servers.' },
                         { service: 'Security Command Center Threat Detection', explanation: 'Correct. SCC can detect malware, cryptomining, and other threats running on your instances by analyzing system behavior.' },
                         { service: 'Cloud Storage Backups', explanation: 'Essential for recovery from ransomware, but SCC and firewalls are key for prevention and detection.' }
                    ]
                }
            ];

            activity1Container.innerHTML = activity1Data.map((item, index) => `
                <div class="p-4 border rounded-lg">
                    <div class="flex flex-col sm:flex-row items-center justify-between">
                        <p class="font-bold text-lg mb-2 sm:mb-0">${item.threat}</p>
                        <select id="select-${index}" class="border rounded p-2">
                            <option value="">Select a countermeasure...</option>
                            ${item.options.map(opt => `<option value="${opt.explanation}">${opt.service}</option>`).join('')}
                        </select>
                    </div>
                    <div id="feedback-${index}" class="mt-2 text-sm text-gray-700"></div>
                </div>
            `).join('');

            activity1Data.forEach((item, index) => {
                const select = document.getElementById(`select-${index}`);
                const feedback = document.getElementById(`feedback-${index}`);
                select.addEventListener('change', (e) => {
                    feedback.innerHTML = e.target.value ? `<p class="p-2 bg-blue-50 rounded-md">${e.target.value}</p>` : '';
                });
            });

            const activity2Data = [
                 { principle: 'You own your data, not Google.', prompt: '<strong>Your Task:</strong> Define IAM roles and permissions. How would you use IAM conditions or resource hierarchy policies to ensure teams only access the data they are explicitly responsible for?' },
                 { principle: 'All customer data is encrypted by default.', prompt: '<strong>Your Task:</strong> While encryption is default, you have choices. When would you use Customer-Managed Encryption Keys (CMEK) vs. Google-managed keys? Consider a workload with high compliance requirements.' },
                 { principle: 'We guard against insider access.', prompt: '<strong>Your Task:</strong> How would you use Cloud Audit Logs and Access Transparency logs to monitor for and investigate potential inappropriate access by your own administrators or by Google support staff?' }
            ];

            activity2Container.innerHTML = activity2Data.map((item, index) => `
                <div class="border rounded-lg bg-white">
                    <button class="activity-trigger w-full text-left p-4 font-bold flex justify-between items-center">
                        <span>${item.principle}</span>
                        <span class="transform transition-transform duration-300">‚ñº</span>
                    </button>
                    <div class="activity-prompt px-4 text-gray-600">
                       <p>${item.prompt}</p>
                    </div>
                </div>
            `).join('');
            
            document.querySelectorAll('.activity-trigger').forEach(button => {
                button.addEventListener('click', () => {
                    const prompt = button.nextElementSibling;
                    const icon = button.querySelector('span:last-child');
                    prompt.classList.toggle('open');
                    icon.classList.toggle('rotate-180');
                });
            });


            // Quiz Logic
            const quizContainer = document.getElementById('quiz-container');
            let currentQuestionIndex = 0;
            let score = 0;

            const quizData = [
                {
                    question: "Which security principle advocates granting users only the access they need to perform their job responsibilities?",
                    options: ["Security by default", "Least privilege", "Zero-trust architecture", "Privileged access"],
                    correct: 1,
                    explanation: "The principle of least privilege limits users' access to only the systems and data absolutely necessary for them to carry out their assigned tasks."
                },
                {
                    question: "Which cybersecurity threat occurs when errors arise during the setup of resources, inadvertently exposing sensitive data?",
                    options: ["Phishing", "Virus", "Malware", "Configuration mishaps"],
                    correct: 3,
                    explanation: "Configuration mishaps are setup errors that can lead to accidental exposure of data or create entry points for attackers. It's a top threat in cloud environments."
                },
                {
                    question: "What Google Cloud product provides robust protection from harmful distributed denial-of-service (DDoS) attacks?",
                    options: ["Google Cloud Armor", "Cloud Load Balancing", "Cloud IAM", "Cloud Monitoring"],
                    correct: 0,
                    explanation: "Google Cloud Armor is specifically designed to defend against DDoS attacks by filtering malicious traffic at the edge of Google's network."
                }
            ];

            function renderQuiz() {
                if (currentQuestionIndex >= quizData.length) {
                    quizContainer.innerHTML = `
                        <h3 class="text-2xl font-bold text-center mb-4">Quiz Complete!</h3>
                        <p class="text-center text-xl text-gray-700 mb-6">You scored ${score} out of ${quizData.length}</p>
                        <div class="text-center">
                            <button id="restart-quiz" class="px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">Restart Quiz</button>
                        </div>
                    `;
                    document.getElementById('restart-quiz').addEventListener('click', () => {
                        currentQuestionIndex = 0;
                        score = 0;
                        renderQuiz();
                    });
                    return;
                }

                const q = quizData[currentQuestionIndex];
                let optionsHtml = '';
                q.options.forEach((option, index) => {
                    optionsHtml += `<button data-index="${index}" class="quiz-option w-full text-left p-4 border rounded-lg hover:bg-blue-50">${option}</button>`;
                });

                quizContainer.innerHTML = `
                    <p class="text-sm text-gray-500 mb-2">Question ${currentQuestionIndex + 1} of ${quizData.length}</p>
                    <h3 class="text-xl font-bold mb-6">${q.question}</h3>
                    <div id="quiz-options" class="space-y-4 mb-4">${optionsHtml}</div>
                    <div id="quiz-feedback" class="mt-4"></div>
                `;

                document.querySelectorAll('.quiz-option').forEach(button => {
                    button.addEventListener('click', handleAnswer);
                });
            }

            function handleAnswer(event) {
                const selectedIndex = parseInt(event.target.dataset.index);
                const question = quizData[currentQuestionIndex];
                const feedbackContainer = document.getElementById('quiz-feedback');
                
                document.querySelectorAll('.quiz-option').forEach((button, index) => {
                    button.disabled = true;
                    if(index === question.correct) {
                        button.classList.add('bg-green-200', 'border-green-500');
                    } else if (index === selectedIndex) {
                         button.classList.add('bg-red-200', 'border-red-500');
                    }
                });

                if (selectedIndex === question.correct) {
                    score++;
                    feedbackContainer.innerHTML = `
                        <div class="p-4 bg-green-100 border-l-4 border-green-500 text-green-700 rounded-lg">
                            <h4 class="font-bold">Correct!</h4>
                            <p>${question.explanation}</p>
                        </div>
                    `;
                } else {
                    feedbackContainer.innerHTML = `
                         <div class="p-4 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-lg">
                            <h4 class="font-bold">Incorrect</h4>
                            <p>${question.explanation}</p>
                        </div>
                    `;
                }
                
                feedbackContainer.innerHTML += `
                    <div class="text-right mt-4">
                        <button id="next-question" class="px-6 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">Next Question</button>
                    </div>
                `;
                document.getElementById('next-question').addEventListener('click', () => {
                    currentQuestionIndex++;
                    renderQuiz();
                });
            }

            renderQuiz();
        });
    </script>
</body>
</html>
